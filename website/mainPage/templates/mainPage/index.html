{% extends 'base.html' %}
{% block head %}
<style>
    .event {
        background-color: #efefef;
        padding: 20px 10px 10px 10px;
        margin: 15px auto;
        width: 100%;
        border-radius: 10px;
    }
    .event-left {
        width: 10%;
    }
    .event-right {
        width: 80%;
        margin-left: 190px;
        margin-top: -185px;
        margin-bottom: 20px;
    }
    #icon img {
        width: 120px;
        height: 120px;
        border-radius: 60px;
        margin-left: 30px;
        margin-bottom: 25px;
    }
    #time {
        margin-left: 50px;
        font-size: 30px;
        font-weight: bold;
    }
    #date {
        font-size: 20px;
        color: #323232;
        text-transform: uppercase;
        margin-bottom: -15px;
    }
    #event {
        font-size: 40px;
        font-weight: bold;
        text-transform: uppercase;
        overflow-wrap: break-word;
        width: 100%;       
    }
    #event a {
        color: #323232;
        text-decoration: none;
    }
    #event a:hover {
        color: coral;
    }
    #location {
        font-size: 20px;
        color: #323232;
        text-transform: uppercase;
        font-style: italic;
        margin-top: -15px;
    }
    #location a {
        color: #323232;
        text-decoration: none;
    }
    #location a:hover {
        color: #0f0f0f;
    }
    #description {
        font-size: 12px;
        width: 100%;
        height: 70px;
        margin-bottom: 20px;
        color: #5a5a5a;
        overflow: hidden;
    }
    .information {
        position: relative;
        margin: -2px 0px 0px 0px;
    }
    #date-marker {
        background-color: #f2f2f2;
        text-align: right;
        padding: 10px 20px;
        font-size: 35px;
        position: sticky;
        font-weight: bold;
        text-transform: uppercase;
        top: 54px;
        z-index: 1;
    }
</style>
{% endblock %}

{% block right %}
<!-- Iterating throught Events Dictionary to get days and its events -->

{% for date, events in ev_dict.items %}
        <!-- Creates day seperator (sticky)  -->
        <div id="date-marker"> {{date}} </div>
    
    <!--  Iterate through the Events of that day -->
    {% for event in events %}
        <div class="event">
            <div class="event-left">
                <!-- Time  -->
                {% if event.date_time.minute  == 0 %}
                    <div id="time">{{event.date_time.hour}}:{{event.date_time.minute}}0 </div>
                {%elif event.date_time.minute < 10 %}
                <div id="time">{{event.date_time.hour}}:0{{event.date_time.minute}} </div>
                {% else %}
                    <div id="time">{{event.date_time.hour}}:{{event.date_time.minute}} </div>
                {% endif %}
                
                <!-- Picture  -->
                <div id="icon"><a href={{event.event_url}}><img src= {{event.picture_url}}></a></div>
            </div>
            <!-- Event Information -->
            <div class="event-right">
                <div class="information">
                    <!-- Iterate through days of month for text  -->
                    {% for key, n_month in months.items %}
                        {% if key == event.date_time.month %}
                            <div id="date">{{ n_month }} {{event.date_time.day}}</div>
                        {% endif %}
                    {% endfor %}
                    <div id="event"><a href={{event.event_url}}>{{event.name}}</a></div>
                    <div id="location"><a href="#">{{event.address}}</a></div>
                    <div id="description">{{event.event_description}}</div>
                </div>
            </div>
        </div>
    {% endfor %}
{% endfor %}
<!-- End of Iteration  -->

{% endblock %}
